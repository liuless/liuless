webpackJsonp([12],{55:function(e,a,t){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function n(){var e={first_name:"first_name",LastName:"last_name",Email:"email",Phone:"phone",Company:"company",Title:"job_title",number_servers:"number_servers",additional_info:"additional_info"},a=(0,l.formMap)(_,e);analytics.identify({sales_form:a}),analytics.track("Filled out sales form",{action:"sales"})}function s(){var e={FirstName:"first_name",LastName:"last_name",Email:"email",Phone:"phone",Company:"company",Title:"job_title",Number_Of_Servers_Required__c:"number_servers",Cloud_Infrastructure_Needs__c:"additional_info"},a=(0,l.formMap)(_,e);p.setValues(a),p.onValidate(function(e){e?p.submittable(!0):(_.classList.add(r.config.classes.hidden),b.reveal("#sales-error"))}),p.onSuccess(function(){return _.classList.add(r.config.classes.hidden),b.reveal("#sales-success"),!1}),p.submit()}function o(e){var a=new FormData(e);fetch(c("abuse"),{method:"POST",body:a}).then(function(){document.querySelector(".Abuse-formsContainer").classList.add(r.config.classes.hidden),b.reveal("#abuse-success")}).catch(function(){document.querySelector(".Abuse-formsContainer").classList.add(r.config.classes.hidden),b.reveal("#abuse-error")})}function c(e){var a=void 0,t=void 0;switch(window.location.host){case"localhost:4567":a="http://localhost:3000/";break;case"stage-www.internal.digitalocean.com":a="https://stage-inbound.internal.digitalocean.com/";break;default:a="https://inbound.digitalocean.com"}switch(e){case"abuse":t="/contact_forms/abuse_reports";break;case"contact":t="/contact_forms/contacts"}return a+t}var r=t(0),i=t(6),u=a(i),l=t(8),d=t(7),m=t(4),f=a(m),b=new u.default({autoInit:!1}),h=document.querySelector('[name="Contact"]'),_=document.querySelector('[name="Sales"]'),v=document.querySelector('[name="TrademarkAbuse"]'),y=document.querySelector('[name="DmcaAbuse"]'),g=document.querySelector('[name="GeneralAbuse"]'),p=void 0;(0,r.forEach)(document.querySelectorAll('[name="cookie_id"]'),function(e,a){a.value=f.default.get("ajs_user_id")}),h&&h.addEventListener("submit",function(e){e.preventDefault();var a=new FormData(h);fetch(c("contact"),{method:"POST",body:a}).then(function(){h.classList.add(r.config.classes.hidden),b.reveal("#contact-success")}).catch(function(){h.classList.add(r.config.classes.hidden),b.reveal("#contact-error")})}),e('[data-js="abuseType"]').on("change",function(e){document.querySelector('[data-js="abuseNote"]').classList.add(r.config.classes.uHidden),(0,r.forEach)(document.querySelectorAll("[data-abuse]"),function(e,a){a.classList.remove(r.config.classes.active)}),(0,r.forEach)(document.querySelectorAll('[data-abuse="'+e.target.value+'"]'),function(e,a){a.classList.add(r.config.classes.active)})}),_&&(window.MktoForms2&&window.MktoForms2.loadForm(d.marketo.baseUrl,d.marketo.munchkinId,d.marketo.sales,function(e){p=e}),_.addEventListener("submit",function(e){e.preventDefault(),n(),s()})),y&&(0,r.forEach)([y,v,g],function(e,a){a.addEventListener("submit",function(e){e.preventDefault(),o(e.target)})})}).call(a,t(2))}},[55]);
//# sourceMappingURL=contact.js-0e82e270.map